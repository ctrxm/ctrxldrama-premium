(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73375,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},70956,e=>{"use strict";let t=(0,e.i(75254).default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);e.s(["List",()=>t],70956)},90256,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(18566),l=e.i(4671),a=e.i(73375),r=e.i(63059),d=e.i(31278),n=e.i(70956),o=e.i(63209),c=e.i(22016),h=e.i(75157);function x(){let e=(0,i.useParams)(),x=(0,i.useRouter)(),m=e.bookId,u=e.episodeId,[p,f]=(0,s.useState)(!1),[b,w]=(0,s.useState)("h264"),[j,v]=(0,s.useState)(!0),g=(0,s.useRef)(null),{data:y,isLoading:N,error:k}=(0,l.useFreeReelsDetail)(m),C=y?.data,z=(0,s.useMemo)(()=>C?.episodes||[],[C]),M=(0,s.useMemo)(()=>z.findIndex(e=>e.id===u),[z,u]),L=(0,s.useMemo)(()=>-1===M?z[0]||null:z[M],[z,M]),R=z.length,$=(0,s.useMemo)(()=>L?"h265"===b&&L.external_audio_h265_m3u8?L.external_audio_h265_m3u8:L.external_audio_h264_m3u8||L.videoUrl||"":"",[L,b]),_=(e,t=!1)=>{e!==u&&(f(!1),t?window.history.replaceState(null,"",`/watch/freereels/${m}/${e}`):x.push(`/watch/freereels/${m}/${e}`))};return N?(0,t.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)(d.Loader2,{className:"w-12 h-12 animate-spin text-primary"}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h3",{className:"text-white font-medium text-lg",children:"Memuat video..."}),(0,t.jsx)("p",{className:"text-white/60 text-sm",children:"Mohon tunggu sebentar..."})]})]}):k||!C?(0,t.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center p-4",children:[(0,t.jsx)(o.AlertCircle,{className:"w-12 h-12 text-destructive mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Video tidak ditemukan"}),(0,t.jsx)(c.default,{href:"/",className:"text-primary hover:underline",children:"Kembali ke beranda"})]}):(0,t.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col",children:[(0,t.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-40 h-16 pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/90 via-black/50 to-transparent"}),(0,t.jsxs)("div",{className:"relative z-10 flex items-center justify-between h-full px-4 max-w-7xl mx-auto pointer-events-auto",children:[(0,t.jsxs)(c.default,{href:`/detail/freereels/${m}`,className:"flex items-center gap-2 text-white/90 hover:text-white transition-colors p-2 -ml-2 rounded-full hover:bg-white/10",children:[(0,t.jsx)(a.ChevronLeft,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-primary font-bold hidden sm:inline shadow-black drop-shadow-md",children:"SekaiDrama"})]}),(0,t.jsxs)("div",{className:"text-center flex-1 px-4 min-w-0",children:[(0,t.jsx)("h1",{className:"text-white font-medium truncate text-sm sm:text-base drop-shadow-md",children:C.title}),(0,t.jsx)("p",{className:"text-white/80 text-xs drop-shadow-md",children:L?`Episode ${L.index+1}`:"Episode ?"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex bg-black/40 backdrop-blur-sm rounded-lg p-1 border border-white/10",children:[(0,t.jsx)("button",{onClick:()=>w("h264"),className:(0,h.cn)("text-[10px] px-2 py-1 rounded-md transition-all font-medium","h264"===b?"bg-primary text-white":"text-white/70 hover:text-white"),children:"H.264"}),(0,t.jsx)("button",{onClick:()=>w("h265"),className:(0,h.cn)("text-[10px] px-2 py-1 rounded-md transition-all font-medium","h265"===b?"bg-primary text-white":"text-white/70 hover:text-white"),children:"H.265"})]}),(0,t.jsx)("button",{onClick:()=>f(!p),className:"p-2 text-white/90 hover:text-white transition-colors rounded-full hover:bg-white/10",children:(0,t.jsx)(n.List,{className:"w-6 h-6 drop-shadow-md"})})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 w-full h-full relative bg-black flex flex-col items-center justify-center",children:[(0,t.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:$?(0,t.jsx)("video",{ref:g,src:j?`/api/proxy/video?url=${encodeURIComponent($)}`:$,controls:!0,autoPlay:!0,className:"w-full h-full object-contain max-h-[100dvh]",poster:C.cover,onEnded:()=>{let e=M+1;e<R&&_(z[e].id,!0)},referrerPolicy:"no-referrer"},`${u}-${b}`):(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-20 flex-col gap-4",children:(0,t.jsx)("p",{className:"text-white/60",children:"URL Video tidak ditemukan"})})}),(0,t.jsx)("div",{className:"absolute bottom-20 md:bottom-12 left-0 right-0 z-40 pointer-events-none flex justify-center pb-safe-area-bottom",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 md:gap-6 pointer-events-auto bg-black/60 backdrop-blur-md px-3 py-1.5 md:px-6 md:py-3 rounded-full border border-white/10 shadow-lg transition-all scale-90 md:scale-100 origin-bottom",children:[(0,t.jsx)("button",{onClick:()=>{let e=z[M-1];e&&_(e.id)},disabled:M<=0,className:"p-1.5 md:p-2 rounded-full text-white disabled:opacity-30 hover:bg-white/10 transition-colors",children:(0,t.jsx)(a.ChevronLeft,{className:"w-4 h-4 md:w-6 md:h-6"})}),(0,t.jsxs)("span",{className:"text-white font-medium text-xs md:text-sm tabular-nums min-w-[60px] md:min-w-[80px] text-center",children:["Ep ",L?(L.index||0)+1:1," / ",R]}),(0,t.jsx)("button",{onClick:()=>{let e=z[M+1];e&&_(e.id)},disabled:M>=R-1,className:"p-1.5 md:p-2 rounded-full text-white disabled:opacity-30 hover:bg-white/10 transition-colors",children:(0,t.jsx)(r.ChevronRight,{className:"w-4 h-4 md:w-6 md:h-6"})})]})})]}),p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]",onClick:()=>f(!1)}),(0,t.jsxs)("div",{className:"fixed inset-y-0 right-0 w-72 bg-zinc-900 z-[70] overflow-y-auto border-l border-white/10 shadow-2xl animate-in slide-in-from-right",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 sticky top-0 bg-zinc-900 z-10 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"font-bold text-white",children:"Daftar Episode"}),(0,t.jsxs)("span",{className:"text-xs text-white/60 bg-white/10 px-2 py-0.5 rounded-full",children:["Total ",R]})]}),(0,t.jsx)("button",{onClick:()=>f(!1),className:"p-1 text-white/70 hover:text-white",children:(0,t.jsx)(r.ChevronRight,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"p-3 grid grid-cols-5 gap-2",children:z.map(e=>(0,t.jsx)("button",{onClick:()=>_(e.id),className:(0,h.cn)("aspect-square flex items-center justify-center rounded-lg text-sm font-medium transition-all",e.id===u?"bg-primary text-white shadow-lg shadow-primary/20":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white"),children:(e.index||0)+1},e.id))})]})]})]})}e.s(["default",()=>x])}]);