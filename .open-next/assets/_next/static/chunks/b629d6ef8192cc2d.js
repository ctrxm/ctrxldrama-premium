(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},78894,e=>{"use strict";let a=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],78894)},69250,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(57951),i=e.i(7471),n=e.i(31278),l=e.i(78894);function c(){let{user:e,isAdmin:c,loading:d}=(0,r.useAuth)(),o=(0,t.useRouter)(),[m,h]=(0,s.useState)(null),[u,x]=(0,s.useState)(!0),[g,b]=(0,s.useState)("");(0,s.useEffect)(()=>{!d&&(e&&c||o.push("/"))},[d,e,c,o]),(0,s.useEffect)(()=>{c&&p()},[c]);let p=async()=>{try{let{data:e,error:a}=await i.supabase.from("maintenance").select("*").single();if(a)throw a;h(e),b(e.message)}catch(e){console.error("Error fetching maintenance:",e)}finally{x(!1)}},f=async()=>{if(m)try{let{error:e}=await i.supabase.from("maintenance").update({is_active:!m.is_active}).eq("id",m.id);if(e)throw e;p()}catch(e){console.error("Error toggling maintenance:",e)}},j=async()=>{if(m)try{let{error:e}=await i.supabase.from("maintenance").update({message:g}).eq("id",m.id);if(e)throw e;alert("Message updated successfully")}catch(e){console.error("Error updating message:",e)}};return d||u?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):c?(0,a.jsx)("div",{className:"min-h-screen pt-24 px-4 pb-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Maintenance Mode"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Control site maintenance status"})]}),(0,a.jsxs)("div",{className:"card-corporate p-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 rounded-lg border border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:`p-3 rounded-lg ${m?.is_active?"bg-red-500/10":"bg-green-500/10"}`,children:(0,a.jsx)(l.AlertTriangle,{className:`w-6 h-6 ${m?.is_active?"text-red-500":"text-green-500"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:m?.is_active?"Maintenance Active":"Site Online"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:m?.is_active?"Users will see the maintenance page":"Site is accessible to all users"})]})]}),(0,a.jsx)("button",{onClick:f,className:`px-6 py-3 rounded-lg font-medium transition-colors ${m?.is_active?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:m?.is_active?"Disable Maintenance":"Enable Maintenance"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Maintenance Message"}),(0,a.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),rows:4,className:"search-input resize-none",placeholder:"Enter maintenance message..."}),(0,a.jsx)("button",{onClick:j,className:"btn-corporate mt-4",children:"Update Message"})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"font-bold mb-4",children:"Preview"}),(0,a.jsx)("div",{className:"p-8 rounded-lg border-2 border-dashed border-border bg-accent/50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.AlertTriangle,{className:"w-16 h-16 text-primary mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Under Maintenance"}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-md mx-auto",children:g})]})})]})]})]})}):null}e.s(["default",()=>c])}]);